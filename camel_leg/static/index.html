<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Camel Up Scenario Builder</title>
    <link rel="stylesheet" href="styles.css">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">
</head>

<body>
    <div class="app">
        <header class="header">
            <h1>üê™ Camel Up Scenario Builder</h1>
            <p class="subtitle">Design custom scenarios & analyze model decisions</p>
        </header>

        <main class="main-content">
            <!-- Game Board Section -->
            <section class="board-section">
                <div class="section-header">
                    <h2>Game Board</h2>
                    <div class="board-controls">
                        <button id="resetBtn" class="btn btn-secondary">üîÑ Reset</button>
                        <button id="rollBtn" class="btn btn-primary">üé≤ Roll Dice</button>
                    </div>
                </div>

                <div class="game-board" id="gameBoard">
                    <!-- Spaces 1-16 will be generated by JS -->
                </div>

                <div class="betting-tiles">
                    <h3>Betting Tiles</h3>
                    <p class="hint">Shows remaining tile values for each camel</p>
                    <div class="tiles-list" id="tilesList"></div>
                </div>

                <div class="dice-status">
                    <h3>Dice Remaining</h3>
                    <div class="dice-list" id="diceList"></div>
                </div>

                <div class="rankings">
                    <h3>Current Rankings</h3>
                    <div class="ranking-list" id="rankingList"></div>
                </div>

                <!-- Game Progress (Full Game) -->
                <div class="game-progress">
                    <h3>üìä Game Progress</h3>
                    <div class="progress-info">
                        <div id="legCounter">Leg: <span class="progress-value">1</span></div>
                        <div id="leaderPosition">Leader: <span class="progress-value">Space 1</span></div>
                        <div id="gameStatus">Status: <span class="progress-value status-active">In Progress</span></div>
                    </div>
                </div>

                <!-- Game End Bets (Full Game) -->
                <div class="game-end-bets">
                    <h3>üèÜ Game End Bets</h3>
                    <p class="hint">Bet on overall game winner/loser</p>
                    <div class="bet-sections">
                        <div class="bet-section winner-section">
                            <h4>ü•á Winner Bets</h4>
                            <div id="winnerBetButtons" class="bet-buttons"></div>
                        </div>
                        <div class="bet-section loser-section">
                            <h4>ü•â Loser Bets</h4>
                            <div id="loserBetButtons" class="bet-buttons"></div>
                        </div>
                    </div>
                </div>

                <!-- Simulation Mode Controls -->
                <div class="simulation-controls">
                    <h3>üéÆ Simulation Mode</h3>
                    <p class="hint">Watch the agent play against bots</p>
                    <div class="sim-buttons">
                        <button id="simStepBtn" class="btn btn-primary">‚ñ∂ Step</button>
                        <button id="simAutoBtn" class="btn btn-secondary">‚èØ Auto-play</button>
                        <select id="simSpeed">
                            <option value="2000">Slow (2s)</option>
                            <option value="1000" selected>Normal (1s)</option>
                            <option value="500">Fast (0.5s)</option>
                            <option value="200">Very Fast</option>
                        </select>
                    </div>
                    <div class="action-log" id="actionLog">
                        <div class="log-placeholder">Click "Step" or "Auto-play" to start</div>
                    </div>
                </div>
            </section>

            <!-- Analysis Section -->
            <section class="analysis-section">
                <div class="analysis-card model-card">
                    <div class="card-header">
                        <h3>ü§ñ Model Prediction</h3>
                        <span class="badge badge-ai">PPO Agent</span>
                    </div>
                    <div class="card-content" id="modelPrediction">
                        <div class="loading">Analyzing...</div>
                    </div>
                </div>

                <div class="analysis-card mc-card">
                    <div class="card-header">
                        <h3>üéØ Monte Carlo</h3>
                        <div class="mc-controls">
                            <select id="mcSimulations">
                                <option value="50">50 sims</option>
                                <option value="100" selected>100 sims</option>
                                <option value="200">200 sims</option>
                                <option value="500">500 sims</option>
                            </select>
                        </div>
                    </div>
                    <div class="card-content" id="mcPrediction">
                        <div class="loading">Calculating...</div>
                    </div>
                </div>

                <div class="analysis-card chart-card">
                    <div class="card-header">
                        <h3>üìä Win Probabilities</h3>
                        <div class="chart-controls">
                            <select id="winSimulations">
                                <option value="200">200 sims</option>
                                <option value="500" selected>500 sims</option>
                                <option value="1000">1000 sims</option>
                            </select>
                            <button id="runSimsBtn" class="btn btn-small">Run</button>
                        </div>
                    </div>
                    <div class="card-content">
                        <div class="chart-container" id="winChart">
                            <div class="loading">Click "Run" to simulate</div>
                        </div>
                        <div class="chart-legend" id="chartLegend"></div>
                    </div>
                </div>
            </section>
        </main>

        <!-- Roll Result Modal -->
        <div class="modal" id="rollModal">
            <div class="modal-content">
                <div class="roll-result">
                    <div class="roll-camel" id="rollCamel"></div>
                    <div class="roll-distance" id="rollDistance"></div>
                </div>
            </div>
        </div>
    </div>

    <script src="app.js"></script>
</body>

</html>